<ui:FluentWindow x:Class="CORCleanup.MainWindow"
                 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                 xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
                 xmlns:views="clr-namespace:CORCleanup.Views"
                 Title="COR Cleanup"
                 Width="1280"
                 Height="800"
                 MinWidth="960"
                 MinHeight="600"
                 WindowStartupLocation="CenterScreen"
                 Icon="pack://application:,,,/Assets/cor-icon.png"
                 ExtendsContentIntoTitleBar="True"
                 WindowBackdropType="None">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- Title Bar — drag region + minimise / maximise / close buttons -->
        <ui:TitleBar
            x:Name="TitleBar"
            Grid.Row="0"
            Title="COR Cleanup" />

        <!-- Navigation sidebar + routed content -->
        <ui:NavigationView x:Name="NavigationView"
                           Grid.Row="1"
                           PaneDisplayMode="Left"
                           IsBackButtonVisible="Collapsed"
                           IsPaneToggleVisible="True"
                           OpenPaneLength="200">

            <ui:NavigationView.MenuItems>
                <ui:NavigationViewItem Content="Auto Tool"
                                       Icon="{ui:SymbolIcon Wand24}"
                                       TargetPageType="{x:Type views:AutoToolPage}" />
                <ui:NavigationViewItem Content="Home"
                                       Icon="{ui:SymbolIcon Home24}"
                                       TargetPageType="{x:Type views:HomePage}" />
                <ui:NavigationViewItem Content="Network"
                                       Icon="{ui:SymbolIcon Globe24}"
                                       TargetPageType="{x:Type views:NetworkPage}" />
                <ui:NavigationViewItem Content="Cleanup"
                                       Icon="{ui:SymbolIcon Broom24}"
                                       TargetPageType="{x:Type views:CleanupPage}" />
                <ui:NavigationViewItem Content="Registry"
                                       Icon="{ui:SymbolIcon Key24}"
                                       TargetPageType="{x:Type views:RegistryPage}" />
                <ui:NavigationViewItem Content="Uninstaller"
                                       Icon="{ui:SymbolIcon AppsList24}"
                                       TargetPageType="{x:Type views:UninstallerPage}" />
                <ui:NavigationViewItem Content="Hardware"
                                       Icon="{ui:SymbolIcon Desktop24}"
                                       TargetPageType="{x:Type views:HardwarePage}" />
                <ui:NavigationViewItem Content="Tools"
                                       Icon="{ui:SymbolIcon Wrench24}"
                                       TargetPageType="{x:Type views:ToolsPage}" />
                <ui:NavigationViewItem Content="Admin"
                                       Icon="{ui:SymbolIcon ShieldTask24}"
                                       TargetPageType="{x:Type views:AdminPage}" />
            </ui:NavigationView.MenuItems>

            <!-- Brand mark — above Settings in the sidebar -->
            <ui:NavigationView.PaneFooter>
                <Border Padding="12,10" BorderThickness="0,1,0,0"
                        BorderBrush="{DynamicResource ControlElevationBorderBrush}">
                    <StackPanel HorizontalAlignment="Left">
                        <Image Source="pack://application:,,,/Assets/cor-icon.png"
                               Width="32" Height="32"
                               RenderOptions.BitmapScalingMode="HighQuality"
                               HorizontalAlignment="Left"
                               Margin="0,0,0,4" />
                        <TextBlock Text="COR Intelligence"
                                   FontSize="9"
                                   Opacity="0.45"
                                   Foreground="{DynamicResource TextFillColorSecondaryBrush}" />
                    </StackPanel>
                </Border>
            </ui:NavigationView.PaneFooter>

            <ui:NavigationView.FooterMenuItems>
                <ui:NavigationViewItem Content="Settings"
                                       Icon="{ui:SymbolIcon Settings24}"
                                       TargetPageType="{x:Type views:SettingsPage}" />
            </ui:NavigationView.FooterMenuItems>

        </ui:NavigationView>

        <!-- Status Bar -->
        <Border Grid.Row="2"
                Padding="12,4"
                Background="{DynamicResource ControlFillColorDefaultBrush}"
                BorderThickness="0,1,0,0"
                BorderBrush="{DynamicResource ControlElevationBorderBrush}">
            <DockPanel>
                <StackPanel DockPanel.Dock="Left" Orientation="Horizontal" VerticalAlignment="Center">
                    <Ellipse Width="7" Height="7" Fill="#4CAF50" Margin="0,0,6,0" />
                    <TextBlock Text="Ready"
                               FontSize="10.5"
                               Opacity="0.6"
                               VerticalAlignment="Center"
                               Foreground="{DynamicResource TextFillColorSecondaryBrush}" />
                </StackPanel>
                <TextBlock DockPanel.Dock="Right"
                           Text="v1.0.5"
                           FontSize="10.5"
                           Opacity="0.4"
                           VerticalAlignment="Center"
                           HorizontalAlignment="Right"
                           Foreground="{DynamicResource TextFillColorSecondaryBrush}" />
            </DockPanel>
        </Border>
    </Grid>

</ui:FluentWindow>
